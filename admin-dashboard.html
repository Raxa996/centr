<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <base href="/centr/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–±–∏–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ - –¶–µ–Ω—Ç—Ä "–†–∞–¥—É–≥–∞"</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
      window.PUBLIC_SUPABASE_URL = "https://estplmvqprqbobrjicmd.supabase.co";
      window.PUBLIC_SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzdHBsbXZxcHJxYm9icmppY21kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwMzQxNTUsImV4cCI6MjA3NjYxMDE1NX0.dZrGpi9mJ_oZqVn0LlzVqzOQMLSH097DT2jlOGuArpc";
    </script>
    <script type="module" src="supabaseClient.js"></script>
    <script type="module" src="script.js"></script>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>üåà –¶–µ–Ω—Ç—Ä "–†–∞–¥—É–≥–∞"</h2>
            </div>
            <!-- –ú–µ–Ω—é –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
            <div class="navbar-menu">
                <button class="nav-btn active" onclick="showTab('schedule')">
                    <i class="fas fa-calendar-alt"></i>
                    <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                </button>
                <button class="nav-btn" onclick="showTab('records')">
                    <i class="fas fa-list"></i>
                    <span>–ó–∞–ø–∏—Å–∏</span>
                </button>
                <button class="nav-btn" onclick="showTab('students')">
                    <i class="fas fa-user-graduate"></i>
                    <span>–£—á–µ–Ω–∏–∫–∏</span>
                </button>
                <button class="nav-btn" onclick="showTab('messages')">
                    <i class="fas fa-comments"></i>
                    <span>–°–æ–æ–±—â–µ–Ω–∏—è</span>
                </button>
                <button class="nav-btn" onclick="showTab('classes')">
                    <i class="fas fa-chalkboard"></i>
                    <span>–ó–∞–Ω—è—Ç–∏—è</span>
                </button>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                </li>
                <li class="nav-item">
                    <span class="nav-link" id="adminName">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                </li>
                <li class="nav-item">
                    <button class="btn-secondary" onclick="logout()">–í—ã–π—Ç–∏</button>
                </li>
            </ul>
        </div>
    </nav>

    <div class="dashboard">
        <div class="container">

            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
            <div id="schedule" class="tab-content active">
                <div class="dashboard-card">
                    <h2 class="dashboard-title">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</h2>
                    
                    <div class="schedule-controls">
                        <div class="calendar-controls">
                            <button onclick="changeMonth(-1)">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</button>
                            <span id="currentMonth"></span>
                            <button onclick="changeMonth(1)">–°–ª–µ–¥—É—é—â–∏–π ‚Üí</button>
                        </div>
                        <div class="schedule-filters">
                            <select id="teacherFilter">
                                <option value="">–í—Å–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</option>
                                <option value="anna">–ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞</option>
                                <option value="maria">–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞</option>
                                <option value="elena">–ï–ª–µ–Ω–∞ –ü–µ—Ç—Ä–æ–≤–Ω–∞</option>
                            </select>
                            <select id="serviceFilter">
                                <option value="">–í—Å–µ —É—Å–ª—É–≥–∏</option>
                                <option value="preschool">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ</option>
                                <option value="art">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</option>
                                <option value="english">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</option>
                            </select>
                        </div>
                        <button class="btn-primary" onclick="addNewSchedule()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ
                        </button>
                    </div>

                    <div class="calendar-container">
                        <div class="calendar" id="adminCalendar">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                        </div>
                    </div>

                    <div class="schedule-list">
                        <h3>–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è</h3>
                        <div class="today-classes" id="todayClasses">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <div id="records" class="tab-content">
                <div class="dashboard-card">
                    <h2 class="dashboard-title">–ó–∞–ø–∏—Å–∏ –∏ –∑–∞—è–≤–∫–∏</h2>
                    
                    <div class="records-controls">
                        <div class="records-filters">
                            <select id="recordsStatusFilter">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="pending">–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</option>
                                <option value="confirmed">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ</option>
                                <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
                            </select>
                            <input type="date" id="recordsDateFilter">
                            <button class="btn-secondary" onclick="filterRecords()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        </div>
                        <div class="records-stats">
                            <span class="stat-item pending">–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏: <strong id="pendingCount">3</strong></span>
                            <span class="stat-item confirmed">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ: <strong id="confirmedCount">15</strong></span>
                            <span class="stat-item today">–ù–∞ —Å–µ–≥–æ–¥–Ω—è: <strong id="todayCount">8</strong></span>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="table" id="recordsTable">
                            <thead>
                                <tr>
                                    <th>–î–∞—Ç–∞/–í—Ä–µ–º—è</th>
                                    <th>–†–æ–¥–∏—Ç–µ–ª—å</th>
                                    <th>–ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                                    <th>–†–µ–±–µ–Ω–æ–∫</th>
                                    <th>–í–æ–∑—Ä–∞—Å—Ç</th>
                                    <th>–£—Å–ª—É–≥–∞</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="recordsBody">
                                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="students" class="tab-content">
                <div class="dashboard-card">
                    <h2 class="dashboard-title">–ë–∞–∑a —É—á–µ–Ω–∏–∫–æ–≤</h2>
                    
                    <div class="students-controls">
                        <div class="search-box">
                            <input type="text" id="studentSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ —Ä–µ–±–µ–Ω–∫–∞ –∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—è...">
                            <button class="btn-secondary" onclick="searchStudents()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <div class="students-filters">
                            <select id="ageFilter">
                                <option value="">–í—Å–µ –≤–æ–∑—Ä–∞—Å—Ç—ã</option>
                                <option value="1-3">1-3 –≥–æ–¥–∞</option>
                                <option value="4-6">4-6 –ª–µ—Ç</option>
                                <option value="7-12">7-12 –ª–µ—Ç</option>
                            </select>
                            <select id="serviceFilterStudents">
                                <option value="">–í—Å–µ —É—Å–ª—É–≥–∏</option>
                                <option value="preschool">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ</option>
                                <option value="art">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</option>
                                <option value="english">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</option>
                            </select>
                        </div>
                        <button class="btn-primary" onclick="openStudentModal()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
                        </button>
                    </div>

                    <div class="students-grid" id="studentsGrid">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                    </div>
                </div>
            </div>

            <div id="messages" class="tab-content">
                <div class="dashboard-card">
                    <h2 class="dashboard-title">–°–æ–æ–±—â–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è–º</h2>
                    
                    <div class="messages-controls">
                        <div class="message-type-selector">
                            <button class="btn-secondary active" onclick="showMessageType('send')">
                                <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                            </button>
                            <button class="btn-secondary" onclick="showMessageType('history')">
                                <i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
                            </button>
                        </div>
                    </div>

                    <div id="sendMessage" class="message-section active">
                        <form id="messageForm" class="message-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="messageTo">–ü–æ–ª—É—á–∞—Ç–µ–ª—å</label>
                                    <select id="messageTo" required>
                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—è</option>
                                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="messageType">–¢–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è</label>
                                    <select id="messageType" required>
                                        <option value="info">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ</option>
                                        <option value="reminder">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–Ω—è—Ç–∏–∏</option>
                                        <option value="payment">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ</option>
                                        <option value="attendance">–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</option>
                                        <option value="custom">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="messageSubject">–¢–µ–º–∞</label>
                                <input type="text" id="messageSubject" required>
                            </div>
                            <div class="form-group">
                                <label for="messageText">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è</label>
                                <textarea id="messageText" rows="5" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="sendWhatsApp">
                                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–∞–∫–∂–µ –≤ WhatsApp
                                </label>
                                <small style="display: block; margin-top: 0.5rem; color: #666; font-size: 0.9rem;">
                                    –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —Å –Ω–æ–º–µ—Ä–∞ —Ü–µ–Ω—Ç—Ä–∞: +7 702 418 12 21
                                </small>
                            </div>
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                            </button>
                        </form>
                    </div>

                    <div id="historyMessage" class="message-section">
                        <div class="message-history" id="messageHistory">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <div id="classes" class="tab-content">
                <div class="dashboard-card">
                    <h2 class="dashboard-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è–º–∏</h2>
                    
                    <div class="classes-controls">
                        <div class="classes-filters">
                            <select id="classDateFilter">
                                <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                                <option value="week">–ù–∞ –Ω–µ–¥–µ–ª—é</option>
                                <option value="month">–ù–∞ –º–µ—Å—è—Ü</option>
                            </select>
                            <input type="date" id="classSpecificDate">
                        </div>
                    </div>

                    <div class="classes-list" id="classesList">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
    <div id="addScheduleModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addScheduleModal')">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ</h2>
            <form id="addScheduleForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="newScheduleDate">–î–∞—Ç–∞</label>
                        <input type="date" id="newScheduleDate" required>
                    </div>
                    <div class="form-group">
                        <label for="newScheduleTime">–í—Ä–µ–º—è</label>
                        <input type="time" id="newScheduleTime" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="newScheduleService">–£—Å–ª—É–≥–∞</label>
                        <select id="newScheduleService" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                            <option value="preschool">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ</option>
                            <option value="art">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</option>
                            <option value="english">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</option>
                            <option value="dance">–¢–∞–Ω—Ü—ã</option>
                            <option value="individual">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="newScheduleTeacher">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</label>
                        <select id="newScheduleTeacher" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</option>
                            <option value="anna">–ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞</option>
                            <option value="maria">–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞</option>
                            <option value="elena">–ï–ª–µ–Ω–∞ –ü–µ—Ç—Ä–æ–≤–Ω–∞</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="newScheduleChild">–£—á–µ–Ω–∏–∫</label>
                    <select id="newScheduleChild">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—á–µ–Ω–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="newScheduleNotes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
                    <textarea id="newScheduleNotes" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ</button>
            </form>
        </div>
    </div>

    <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('studentModal')">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞</h2>
            <form id="studentForm">
                <div class="form-group">
                    <label for="newStudentName">–ò–º—è —Ä–µ–±–µ–Ω–∫–∞</label>
                    <input type="text" id="newStudentName" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="newStudentBirthDate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                        <input type="date" id="newStudentBirthDate" required>
                    </div>
                    <div class="form-group">
                        <label for="newStudentGender">–ü–æ–ª</label>
                        <select id="newStudentGender" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª</option>
                            <option value="male">–ú–∞–ª—å—á–∏–∫</option>
                            <option value="female">–î–µ–≤–æ—á–∫–∞</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="newStudentParent">–†–æ–¥–∏—Ç–µ–ª—å</label>
                    <input type="text" id="newStudentParent" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="newStudentPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="newStudentPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="newStudentService">–£—Å–ª—É–≥–∞</label>
                        <select id="newStudentService" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                            <option value="preschool">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ</option>
                            <option value="art">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</option>
                            <option value="english">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</option>
                            <option value="dance">–¢–∞–Ω—Ü—ã</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="newStudentNotes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
                    <textarea id="newStudentNotes" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞</button>
            </form>
        </div>
    </div>

    <script>
        let currentDate = new Date();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (!currentUser || currentUser.type !== 'admin') {
                window.location.href = 'index.html';
                return;
            }

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–∏–ø–æ–º –¥–æ—Å—Ç—É–ø–∞
            const adminNameElement = document.getElementById('adminName');
            if (currentUser.displayName) {
                adminNameElement.textContent = `${currentUser.displayName} (${currentUser.name})`;
            } else {
                adminNameElement.textContent = currentUser.name || '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä';
            }
            adminNameElement.style.color = '#ffd700';
            adminNameElement.style.fontWeight = 'bold';
            adminNameElement.style.textShadow = '1px 1px 2px rgba(0,0,0,0.5)';
            loadAdminDashboard();
        });

        function showTab(tabName) {
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–Ω—é
            document.querySelectorAll('.nav-btn').forEach(item => {
                item.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –º–µ–Ω—é
            event.target.closest('.nav-btn').classList.add('active');
            
            document.getElementById(tabName).classList.add('active');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–∫–ª–∞–¥–∫–∏
            switch(tabName) {
                case 'schedule':
                    loadSchedule();
                    break;
                case 'records':
                    loadRecords();
                    break;
                case 'students':
                    loadStudents();
                    break;
                case 'messages':
                    loadMessages();
                    break;
                case 'classes':
                    loadClasses();
                    break;
            }
        }

        function loadAdminDashboard() {
            loadSchedule();
        }

        function loadSchedule() {
            generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
            updateMonthDisplay(currentDate.getFullYear(), currentDate.getMonth());
            loadTodayClasses();
        }

        function generateCalendar(year, month) {
            const calendar = document.getElementById('adminCalendar');
            if (!calendar) return;

            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();

            calendar.innerHTML = '';

            // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
            const dayHeaders = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            dayHeaders.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-day-header';
                dayHeader.textContent = day;
                dayHeader.style.background = '#667eea';
                dayHeader.style.color = 'white';
                dayHeader.style.fontWeight = 'bold';
                calendar.appendChild(dayHeader);
            });

            // –î–Ω–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
            const prevMonth = new Date(year, month - 1, 0);
            for (let i = startingDayOfWeek - 1; i >= 0; i--) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = prevMonth.getDate() - i;
                calendar.appendChild(dayElement);
            }

            // –î–Ω–∏ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                const targetDate = new Date(year, month, day);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                targetDate.setHours(0, 0, 0, 0);
                
                if (targetDate.getTime() === today.getTime()) {
                    dayElement.classList.add('today');
                }

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –∑–∞–Ω—è—Ç–∏—è –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å
                if (hasClassesOnDate(year, month, day)) {
                    dayElement.classList.add('has-appointment');
                }

                dayElement.addEventListener('click', () => showDaySchedule(year, month, day));
                calendar.appendChild(dayElement);
            }

            // –î–Ω–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞
            const remainingDays = 42 - (startingDayOfWeek + daysInMonth);
            for (let day = 1; day <= remainingDays; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = day;
                calendar.appendChild(dayElement);
            }
        }

        function hasClassesOnDate(year, month, day) {
            const appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            const targetDate = new Date(year, month, day).toDateString();
            
            return appointments.some(appointment => {
                const appointmentDate = new Date(appointment.date).toDateString();
                return appointmentDate === targetDate;
            });
        }

        function showDaySchedule(year, month, day) {
            const appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            const targetDate = new Date(year, month, day);
            
            const dayAppointments = appointments.filter(appointment => {
                const appointmentDate = new Date(appointment.date);
                return appointmentDate.toDateString() === targetDate.toDateString();
            });

            showScheduleModal(dayAppointments, targetDate);
        }

        function showScheduleModal(appointments, date) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';

            const modalContent = document.createElement('div');
            modalContent.className = 'modal-content';

            modalContent.innerHTML = `
                <span class="close" onclick="this.closest('.modal').remove()">&times;</span>
                <h2>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ ${date.toLocaleDateString('ru-RU')}</h2>
                <div class="schedule-list">
                    ${appointments.length === 0 ? 
                        '<p>–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –∑–∞–Ω—è—Ç–∏–π –Ω–µ—Ç</p>' :
                        appointments.map(apt => `
                            <div class="schedule-item">
                                <div class="schedule-time">${apt.time}</div>
                                <div class="schedule-details">
                                    <strong>${apt.service}</strong> - ${apt.childName}
                                    <br><small>–†–æ–¥–∏—Ç–µ–ª—å: ${apt.parentName}</small>
                                    <br><small>–°—Ç–∞—Ç—É—Å: ${getStatusName(apt.status)}</small>
                                </div>
                                <div class="schedule-actions">
                                    <button class="btn-secondary" onclick="editAppointment(${apt.id})">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                                    <button class="btn-secondary" onclick="cancelAppointment(${apt.id})">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                                </div>
                            </div>
                        `).join('')
                    }
                </div>
                <button class="btn-primary" onclick="addNewSchedule('${date.toISOString().split('T')[0]}')">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ</button>
            `;

            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        function updateMonthDisplay(year, month) {
            const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
                '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
            document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
        }

        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            loadSchedule();
        }

        function loadTodayClasses() {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            
            const appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            const todayAppointments = appointments.filter(apt => apt.date === todayStr);

            const container = document.getElementById('todayClasses');
            if (todayAppointments.length === 0) {
                container.innerHTML = '<p>–ù–∞ —Å–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–π –Ω–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</p>';
            } else {
                container.innerHTML = todayAppointments.map(apt => `
                    <div class="class-item">
                        <div class="class-time">${apt.time}</div>
                        <div class="class-details">
                            <strong>${apt.service}</strong>
                            <div>${apt.childName}</div>
                            <div>–†–æ–¥–∏—Ç–µ–ª—å: ${apt.parentName}</div>
                        </div>
                        <div class="class-status status-${apt.status}">${getStatusName(apt.status)}</div>
                    </div>
                `).join('');
            }
        }

        function loadRecords() {
            const recordsBody = document.getElementById('recordsBody');
            const requests = JSON.parse(localStorage.getItem('requests') || '[]');

            let recordsHTML = '';
            
            requests.forEach(request => {
                recordsHTML += `
                    <tr>
                        <td>${new Date(request.date).toLocaleDateString('ru-RU')}</td>
                        <td>${request.parentName}</td>
                        <td>${request.parentPhone}</td>
                        <td>${request.childName}</td>
                        <td>${request.childAge} –ª–µ—Ç</td>
                        <td>${getServiceName(request.selectedService)}</td>
                        <td><span class="status-${request.status}">${getStatusName(request.status)}</span></td>
                        <td>
                            <button class="btn-secondary" onclick="confirmRecord(${request.id})">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                            <button class="btn-secondary" onclick="callParent('${request.parentPhone}')">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
                        </td>
                    </tr>
                `;
            });

            recordsBody.innerHTML = recordsHTML;
        }

        function loadStudents() {
            const studentsGrid = document.getElementById('studentsGrid');
            // –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
            const students = [
                {
                    id: 1,
                    name: '–ú–∞–∫—Å–∏–º –ü–µ—Ç—Ä–æ–≤',
                    age: 4,
                    parent: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',
                    phone: '+7 777 123 45 67',
                    service: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ',
                    status: 'active'
                },
                {
                    id: 2,
                    name: '–°–æ—Ñ–∏—è –ö–æ–∑–ª–æ–≤–∞',
                    age: 5,
                    parent: '–ï–ª–µ–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',
                    phone: '+7 777 234 56 78',
                    service: '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫',
                    status: 'active'
                }
            ];

            studentsGrid.innerHTML = students.map(student => `
                <div class="student-card">
                    <div class="student-info">
                        <h4>${student.name}</h4>
                        <p>–í–æ–∑—Ä–∞—Å—Ç: ${student.age} –ª–µ—Ç</p>
                        <p>–†–æ–¥–∏—Ç–µ–ª—å: ${student.parent}</p>
                        <p>–¢–µ–ª–µ—Ñ–æ–Ω: ${student.phone}</p>
                        <p>–£—Å–ª—É–≥–∞: ${student.service}</p>
                    </div>
                    <div class="student-actions">
                        <button class="btn-secondary" onclick="editStudent(${student.id})">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                        <button class="btn-secondary" onclick="viewStudentProgress(${student.id})">–£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å</button>
                    </div>
                </div>
            `).join('');
        }

        function loadMessages() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
            const messageToSelect = document.getElementById('messageTo');
            const requests = JSON.parse(localStorage.getItem('requests') || '[]');
            
            let parentsHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—è</option>';
            const uniqueParents = [...new Set(requests.map(req => req.parentName))];
            uniqueParents.forEach(parent => {
                const request = requests.find(req => req.parentName === parent);
                parentsHTML += `<option value="${request.parentPhone}">${parent} (${request.parentPhone})</option>`;
            });
            messageToSelect.innerHTML = parentsHTML;

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É —Å–æ–æ–±—â–µ–Ω–∏—è
            const messageForm = document.getElementById('messageForm');
            messageForm.addEventListener('submit', handleMessageSubmit);

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
            loadMessageHistory();
        }

        function loadClasses() {
            const classesList = document.getElementById('classesList');
            
            const today = new Date();
            const appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            const todayAppointments = appointments.filter(apt => apt.date === today.toISOString().split('T')[0]);

            if (todayAppointments.length === 0) {
                classesList.innerHTML = '<p>–ù–∞ —Å–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–π –Ω–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</p>';
            } else {
                classesList.innerHTML = todayAppointments.map(apt => `
                    <div class="class-management-item">
                        <div class="class-info">
                            <div class="class-time">${apt.time}</div>
                            <div class="class-service">${apt.service}</div>
                            <div class="class-student">${apt.childName}</div>
                            <div class="class-parent">${apt.parentName}</div>
                        </div>
                        <div class="class-management-actions">
                            <button class="btn-secondary" onclick="markAttendance(${apt.id}, 'present')">–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª</button>
                            <button class="btn-secondary" onclick="markAttendance(${apt.id}, 'absent')">–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª</button>
                            <button class="btn-secondary" onclick="sendReminder(${apt.parentName}, '${apt.parentPhone}')">–ù–∞–ø–æ–º–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                `).join('');
            }
        }

        function addNewSchedule(date = null) {
            openModal('addScheduleModal');
            if (date) {
                document.getElementById('newScheduleDate').value = date;
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É
            const form = document.getElementById('addScheduleForm');
            form.addEventListener('submit', handleScheduleSubmit);
        }

        function handleScheduleSubmit(e) {
            e.preventDefault();
            
            const formData = {
                date: document.getElementById('newScheduleDate').value,
                time: document.getElementById('newScheduleTime').value,
                service: document.getElementById('newScheduleService').value,
                teacher: document.getElementById('newScheduleTeacher').value,
                child: document.getElementById('newScheduleChild').value,
                notes: document.getElementById('newScheduleNotes').value
            };

            const appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            appointments.push({
                id: Date.now(),
                ...formData,
                parentName: '–ó–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω',
                childName: formData.child || '–ì—Ä—É–ø–ø–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ',
                service: document.getElementById('newScheduleService').selectedOptions[0].text,
                status: 'confirmed'
            });
            localStorage.setItem('appointments', JSON.stringify(appointments));

            alert('–ó–∞–Ω—è—Ç–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ!');
            closeModal('addScheduleModal');
            loadSchedule();
        }

        function handleMessageSubmit(e) {
            e.preventDefault();
            
            const messageData = {
                to: document.getElementById('messageTo').value,
                toName: document.getElementById('messageTo').selectedOptions[0].text,
                type: document.getElementById('messageType').value,
                subject: document.getElementById('messageSubject').value,
                text: document.getElementById('messageText').value,
                whatsapp: document.getElementById('sendWhatsApp').checked,
                date: new Date().toISOString()
            };

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
            const messages = JSON.parse(localStorage.getItem('adminMessages') || '[]');
            messages.push({
                id: Date.now(),
                ...messageData
            });
            localStorage.setItem('adminMessages', JSON.stringify(messages));

            // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ WhatsApp
            if (messageData.whatsapp) {
                const phone = messageData.to.replace(/\D/g, '');
                const message = `${messageData.subject}\n\n${messageData.text}`;
                sendWhatsAppMessage(phone, message);
            }

            alert('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
            e.target.reset();
        }

        function loadMessageHistory() {
            const messageHistory = document.getElementById('messageHistory');
            const messages = JSON.parse(localStorage.getItem('adminMessages') || '[]');

            if (messages.length === 0) {
                messageHistory.innerHTML = '<p>–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø—É—Å—Ç–∞</p>';
            } else {
                messageHistory.innerHTML = messages.map(msg => `
                    <div class="message-history-item">
                        <div class="message-header">
                            <strong>${msg.toName}</strong>
                            <span class="message-date">${new Date(msg.date).toLocaleDateString('ru-RU')}</span>
                        </div>
                        <div class="message-subject">${msg.subject}</div>
                        <div class="message-text">${msg.text}</div>
                        <div class="message-meta">
                            –¢–∏–ø: ${getMessageTypeName(msg.type)}
                            ${msg.whatsapp ? ' | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ WhatsApp' : ''}
                        </div>
                    </div>
                `).join('');
            }
        }

        function showMessageType(type) {
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.message-type-selector .btn-secondary').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
            document.getElementById('sendMessage').classList.toggle('active', type === 'send');
            document.getElementById('historyMessage').classList.toggle('active', type === 'history');
            
            if (type === 'history') {
                loadMessageHistory();
            }
        }

        function openStudentModal() {
            openModal('studentModal');
            
            const form = document.getElementById('studentForm');
            form.addEventListener('submit', handleStudentSubmit);
        }

        function handleStudentSubmit(e) {
            e.preventDefault();
            alert('–£—á–µ–Ω–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω!');
            closeModal('studentModal');
            loadStudents();
        }

        function confirmRecord(recordId) {
            const requests = JSON.parse(localStorage.getItem('requests') || '[]');
            const requestIndex = requests.findIndex(req => req.id === recordId);
            
            if (requestIndex !== -1) {
                requests[requestIndex].status = 'confirmed';
                localStorage.setItem('requests', JSON.stringify(requests));
                loadRecords();
                alert('–ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!');
            }
        }

        function callParent(phone) {
            alert(`–ó–≤–æ–Ω–æ–∫ –Ω–∞ –Ω–æ–º–µ—Ä: ${phone}`);
        }

        function sendReminder(parentName, phone) {
            const message = `–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–Ω—è—Ç–∏–∏ –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –≤ –¶–µ–Ω—Ç—Ä–µ "–†–∞–¥—É–≥–∞"`;
            sendWhatsAppMessage(phone.replace(/\D/g, ''), message);
        }

        function markAttendance(appointmentId, status) {
            alert(`–û—Ç–º–µ—á–µ–Ω–æ: ${status === 'present' ? '–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª' : '–æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª'}`);
        }

        function sendWhatsAppMessage(phone, message) {
            // –ù–æ–º–µ—Ä —Ü–µ–Ω—Ç—Ä–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
            const centerPhone = '77024181221';
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è
            const cleanPhone = phone.replace(/\D/g, '');
            
            // –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ —Ü–µ–Ω—Ç—Ä–∞
            const messageFromCenter = `–û—Ç –¶–µ–Ω—Ç—Ä–∞ —Ä–∞–∑–≤–∏—Ç–∏—è "–†–∞–¥—É–≥–∞":\n${message}`;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç–æ
            if (confirm(`–û—Ç–∫—Ä—ã—Ç—å WhatsApp –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—é +${cleanPhone}?\n\n–°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å –Ω–æ–º–µ—Ä–∞ —Ü–µ–Ω—Ç—Ä–∞ +7 702 418 12 21`)) {
                const whatsappUrl = `https://wa.me/${centerPhone}?text=${encodeURIComponent(`–ù–∞–ø–∏—à–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—é +${cleanPhone}: ${messageFromCenter}`)}`;
                window.open(whatsappUrl, '_blank');
            }
        }

        function getServiceName(serviceId) {
            const serviceNames = {
                'early-development': '–†–∞–Ω–Ω–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
                'preschool': '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ',
                'art': '–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –ò–ó–û',
                'dance': '–¢–∞–Ω—Ü—ã –∏ –º—É–∑—ã–∫–∞',
                'english': '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫',
                'individual': '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è'
            };
            return serviceNames[serviceId] || serviceId;
        }

        function getStatusName(status) {
            const statusNames = {
                'pending': '–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏',
                'confirmed': '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ',
                'cancelled': '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ'
            };
            return statusNames[status] || status;
        }

        function getMessageTypeName(type) {
            const typeNames = {
                'info': '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ',
                'reminder': '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ',
                'payment': '–û–± –æ–ø–ª–∞—Ç–µ',
                'attendance': '–û –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏',
                'custom': '–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ'
            };
            return typeNames[type] || type;
        }

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
            }
        }

        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        }

    </script>

    <style>
        .schedule-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .calendar-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .schedule-filters {
            display: flex;
            gap: 1rem;
        }

        .schedule-list {
            margin-top: 2rem;
        }

        .today-classes {
            display: grid;
            gap: 1rem;
        }

        .class-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .class-time {
            font-weight: bold;
            font-size: 1.1rem;
            color: #667eea;
        }

        .class-details {
            flex: 1;
            margin: 0 1rem;
        }

        .class-status.status-confirmed {
            color: #4CAF50;
            font-weight: bold;
        }

        .class-status.status-pending {
            color: #FF9800;
            font-weight: bold;
        }

        .records-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .records-filters {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .records-stats {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .stat-item {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            background: #f8f9fa;
        }

        .stat-item.pending {
            background: #fff3cd;
            color: #856404;
        }

        .stat-item.confirmed {
            background: #d4edda;
            color: #155724;
        }

        .stat-item.today {
            background: #d1ecf1;
            color: #0c5460;
        }

        .students-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .search-box {
            display: flex;
            gap: 0.5rem;
        }

        .search-box input {
            min-width: 300px;
        }

        .students-filters {
            display: flex;
            gap: 1rem;
        }

        .students-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }

        .student-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .student-info h4 {
            margin-bottom: 0.5rem;
            color: #333;
        }

        .student-info p {
            margin-bottom: 0.25rem;
            color: #666;
        }

        .student-actions {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .messages-controls {
            margin-bottom: 2rem;
        }

        .message-type-selector {
            display: flex;
            gap: 1rem;
        }

        .message-section {
            display: none;
        }

        .message-section.active {
            display: block;
        }

        .message-form {
            max-width: 600px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .message-history-item {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .message-subject {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .message-meta {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .classes-controls {
            margin-bottom: 2rem;
        }

        .classes-filters {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .classes-list {
            display: grid;
            gap: 1rem;
        }

        .class-management-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .class-info {
            flex: 1;
        }

        .class-time {
            font-weight: bold;
            font-size: 1.1rem;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .class-service {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .class-student, .class-parent {
            color: #666;
            font-size: 0.9rem;
        }

        .class-management-actions {
            display: flex;
            gap: 0.5rem;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e1e5e9;
        }

        .schedule-time {
            font-weight: bold;
            color: #667eea;
            min-width: 80px;
        }

        .schedule-details {
            flex: 1;
            margin: 0 1rem;
        }

        .schedule-actions {
            display: flex;
            gap: 0.5rem;
        }

        @media (max-width: 768px) {
            .schedule-controls {
                flex-direction: column;
                align-items: flex-start;
            }

            .records-controls {
                flex-direction: column;
                align-items: flex-start;
            }

            .students-controls {
                flex-direction: column;
                align-items: flex-start;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .class-item, .class-management-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .class-management-actions {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
    
</body>
</html>
